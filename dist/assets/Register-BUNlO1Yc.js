import{_ as h}from"./DarkLogo-Cp4B5Chf.js";import{k as g,l as i,c as p,o as _,G as k,a as V,f as R,b as a,P as y,w as s,M as d,ad as c,d as m,a3 as f,V as C,ac as N,t as B,I as j,N as F,al as S}from"./index-DIUjx3mN.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-dark-vFYSVGr0.js";const I={key:0,class:"mt-3"},M=g({__name:"RegisterForm",setup(x){const n=i(""),r=i(""),u=i(""),o=i(""),v=i(!1);async function w(){o.value="",v.value=!1;try{const t=await fetch("https://thhbaadmin.infinityfreeapp.com/backend/register.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullname:n.value,email:r.value,password:u.value})});let e;const l=t.headers.get("content-type");l&&l.includes("application/json")?e=await t.json():(e={message:await t.text()},t.ok&&(e.message="Warning: Backend did not return JSON. Raw response: "+e.message)),t.ok?(o.value=e.message||"Registration successful!",b()):o.value=e.message||"Registration failed: An unknown error occurred."}catch(t){t instanceof Error?o.value="Registration failed: "+t.message:o.value="Registration failed: An unexpected error occurred."}finally{v.value=!0}}function b(){n.value="",r.value="",u.value=""}return(t,e)=>(_(),p(k,null,[V("form",{onSubmit:N(w,["prevent"])},[a(y,{class:"d-flex mb-3"},{default:s(()=>[a(d,{cols:"12"},{default:s(()=>[a(c,{class:"mb-1"},{default:s(()=>e[3]||(e[3]=[m("ชื่อบริษัท")])),_:1}),a(f,{id:"fullname",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),variant:"outlined","hide-details":"",color:"primary"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(c,{class:"mb-1"},{default:s(()=>e[4]||(e[4]=[m("อีเมล")])),_:1}),a(f,{variant:"outlined",type:"email","hide-details":"",color:"primary",id:"email",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l)},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(c,{class:"mb-1"},{default:s(()=>e[5]||(e[5]=[m("รหัสผ่าน")])),_:1}),a(f,{id:"password",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),variant:"outlined",type:"password","hide-details":"",color:"primary"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(C,{type:"submit",color:"primary",size:"large",block:"",flat:"",class:"w-100"},{default:s(()=>e[6]||(e[6]=[m("สมัครสมาชิก")])),_:1})]),_:1})]),_:1})],32),o.value?(_(),p("p",I,B(o.value),1)):R("",!0)],64))}}),O=T(M,[["__scopeId","data-v-6901b15b"]]),U={class:"authentication"},$={class:"d-flex justify-center py-4"},z=g({__name:"Register",setup(x){return(n,r)=>(_(),p("div",U,[a(j,{fluid:"",class:"pa-3"},{default:s(()=>[a(y,{class:"h-screen d-flex justify-center align-center"},{default:s(()=>[a(d,{cols:"12",lg:"4",xl:"3",class:"d-flex align-center"},{default:s(()=>[a(F,{rounded:"md",elevation:"10",class:"px-sm-1 px-0 withbg mx-auto","max-width":"500"},{default:s(()=>[a(S,{class:"pa-sm-8"},{default:s(()=>[V("div",$,[a(h)]),a(O)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{z as default};
